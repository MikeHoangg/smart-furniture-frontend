<div class="dialog">
  <h1 mat-dialog-title>{{ 'ACTION.' + title|translate }} {{ 'APP.OPTIONS'|translate }}<span
    *ngIf="option_obj"> {{ option_obj.name }}</span></h1>
  <div mat-dialog-content>
    <form [formGroup]="optionsForm" (ngSubmit)="save()" id="optionsForm" class="form-content">
      <p class="error" *ngIf="error && error.non_field_errors">
        {{ error.non_field_errors }}
      </p>
      <mat-form-field>
        <mat-select placeholder="{{ 'FURNITURE.TYPE'|translate }}" formControlName="type"
                    required (selectionChange)="onTypeChange()">
          <mat-option *ngFor="let type of types" [value]="type.name">
            {{ 'TYPE.' + type.name|translate }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="error && error.type">
          {{ error.type }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['type'].invalid">
          {{ 'ERROR.' + getError("type")|translate }} |translate
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          {{ 'OPTION.NAME'|translate }}
        </mat-label>
        <input matInput formControlName="name" required>
        <mat-error *ngIf="error && error.name">
          {{ error.code }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['name'].invalid">
          {{ 'ERROR.' + getError("name")|translate }} {{ getParam("name") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          {{ 'OPTION.HEIGHT'|translate }}
        </mat-label>
        <input matInput type="number" formControlName="height">
        <mat-error *ngIf="error && error.height">
          {{ error.height }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['height'].invalid">
          {{ 'ERROR.' + getError("height")|translate }} {{ getParam("height") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          {{ 'OPTION.LENGTH'|translate }}
        </mat-label>
        <input matInput type="number" formControlName="length">
        <mat-error *ngIf="error && error.length">
          {{ error.length }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['length'].invalid">
          {{ 'ERROR.' + getError("length")|translate }} {{ getParam("length") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          {{ 'OPTION.WIDTH'|translate }}
        </mat-label>
        <input matInput type="number" formControlName="width">
        <mat-error *ngIf="error && error.width">
          {{ error.width }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['width'].invalid">
          {{ 'ERROR.' + getError("width")|translate }} {{ getParam("width") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          {{ 'OPTION.INCLINE'|translate }}
        </mat-label>
        <input matInput type="number" formControlName="incline">
        <mat-error *ngIf="error && error.incline">
          {{ error.incline }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['incline'].invalid">
          {{ 'ERROR.' + getError("incline")|translate }} {{ getParam("incline") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field *ngIf="isPrimeAccount() && is_prime_type">
        <mat-label>
          {{ 'OPTION.TEMPERATURE'|translate }}
        </mat-label>
        <input matInput type="number" formControlName="temperature">
        <mat-error *ngIf="error && error.temperature">
          {{ error.temperature }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['temperature'].invalid">
          {{ 'ERROR.' + getError("temperature")|translate }} {{ getParam("temperature") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field *ngIf="isPrimeAccount() && is_prime_type">
        <mat-select placeholder="{{ 'OPTION.MASSAGE'|translate }}" formControlName="massage">
          <mat-option *ngFor="let type of massage_types" [value]="type.name">
            {{ 'PRIME_TYPE.' + type.name|translate}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="error && error.massage">
          {{ error.massage }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['massage'].invalid">
          {{ 'ERROR.' + getError("massage")|translate }} {{ getParam("massage") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field *ngIf="isPrimeAccount() && is_prime_type">
        <mat-select placeholder="{{ 'OPTION.RIGIDITY'|translate }}" formControlName="rigidity">
          <mat-option *ngFor="let type of rigidity_types" [value]="type.name">
            {{ 'PRIME_TYPE.' + type.name|translate}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="error && error.rigidity">
          {{ error.rigidity }}
        </mat-error>
        <mat-error *ngIf="optionsForm.controls['rigidity'].invalid">
          {{ 'ERROR.' + getError("rigidity")|translate }} {{ getParam("rigidity") }}
        </mat-error>
      </mat-form-field>
    </form>
  </div>
  <div mat-dialog-actions>
    <button mat-flat-button color="primary" type="submit" form="optionsForm">
      {{ 'ACTION.SAVE'|translate }}
    </button>
  </div>
</div>
